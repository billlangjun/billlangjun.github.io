<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>PHP/MySQL三日通－第一天</title>
<style type="text/css">
<!--
.p1{font-size:9pt;font-family:宋体;}
.p2{font-size:9pt;font-family:宋体;line-height:14pt;}
.p3{font-size:14.8px;font-family:宋体;}
.p4{font-size:14.8px;font-family:宋体;line-height:14pt;}
.p5{ border: 1px solid rgb(146,201,201) }
.bc{ background-color: rgb(255,255,132) ;font-size:9pt;font-family:宋体;line-height:14pt;}
.pt{font-size:14.8px;font-family:宋体;line-height:14pt; background-color: rgb(255,255,132) }
a:hover{color:red;}
a.t1:visited{color:red;}
-->
</style>
</head>

<body>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%" class="p4"><p align="center"><p><script language='JavaScript1.1' src='/72890.js'></script>
<br><strong><big><font color="#FF0000">PHP/MySQL三日通－第一天</font></big></strong></p>
    <p align="center"><font color="#0000FF">原作者：</font><a
    href="mailto:graeme@kc.co.nz">Graeme Merrall</a> </td>
  </tr>
  <tr>
    <td width="100%"><hr noshade size="1" color="#000000">
    </td>
  </tr>
  <tr>
    <td width="100%" class="p4"><div align="center"><center><table border="0" width="50%"
    cellspacing="0" cellpadding="0">
      <tr>
        <td width="100%" class="p2">　　本文介绍堪称Web数据库黄金组合的PHP/MySQL如何构筑一个网络数据库应用的方法，PHP是一个类似微软ASP的服务器端的嵌入式超文本处理语言，是建立动态网站的强大工具。而MySQL是一个轻型SQL数据库服务器，可运行在多种平台上，包括Windows 
        NT和Linux，它还有一个GPL版本，MySQL被认为是建立数据库驱动的动态网站的最佳产品。PHP、MySQL和Apache是Linux平台网站的最佳拍档。该教程是一个３日课程，从安装到应用都有详细描述。对于PHP和MySQL的详细资料，可参见他们的官方网站。<a
        href="http://www.php.net">PHP</a>(www.php.net)、<a href="http://www.tcx.se/">MySQL</a> 
        (www.tcx.se)</td>
      </tr>
    </table>
    </center></div><hr noshade size="1" color="#000000">
    <div align="center"><center><table border="0" width="30%" cellspacing="0" cellpadding="0">
      <tr>
        <td width="100%" class="p4"><p align="center"><b>目录 </b></p>
        <p><b>PHP/MySQL教程－第一天</b> <br>
        一、<a href="#1.1">PHP/MySQL简介</a><br>
        二、<a href="#1.2">安装MySQL</a><br>
        三、<a href="#1.3">安装PHP</a><br>
        四、<a href="#1.4">第一个脚本</a><br>
        五、<a href="#1.5">装载数据库</a><br>
        六、<a href="#1.6">测试</a> </p>
        <p><b>PHP/MySQL教程－<a href="php3MySQL_2.html">第二天</b> </a><br>
        一、<a href="php3MySQL_2.html#2.1">while循环</a><br>
        二、<a href="php3MySQL_2.html#2.2">if-else</a><br>
        三、<a href="php3MySQL_2.html#2.3">第一个程序脚本</a><br>
        四、<a href="php3MySQL_2.html#2.4">向服务器发送数据</a><br>
        五、<a href="php3MySQL_2.html#2.5">修改数据</a><br>
        六、<a href="php3MySQL_2.html#2.6">完整的程序</a> </p>
        <p><b>PHP/MySQL教程－<a href="php3MySQL_3.html">第三天</a></b> <br>
        一、<a href="php3MySQL_3.html#3.1">基本函数</a><br>
        二、<a href="php3MySQL_3.html#3.2">数据校验</a><br>
        三、<a href="php3MySQL_3.html#3.3">处理常规表达式</a><br>
        四、<a href="php3MySQL_3.html#3.4">简便方法</a><br>
        五、<a href="php3MySQL_3.html#3.5">进阶技巧</a> </td>
      </tr>
    </table>
    </center></div><p><a name="1.1"></a></p>
    <hr noshade size="1" color="#000000">
    <p><b>一、PHP/MySQL简介</b> </p>
    <p>　　您应该听说过开放源代码软件（OSS），除非最近六到八个月来您一直住在火星上。这场运动有着巨大的冲击力，已引起一些大公司的注意。象Oralce、Informix，还有多家公司都开始把他们的主力数据库产品移植到OSS的产物之一 
    - Linux操作系统上。 </p>
    <p>　　如果您有足够的技术力量，拥有一个复杂庞大的关系数据库系统（RDBMS）则是如虎添翼。但是也许您对数据库还刚刚入门，您刚刚读了<a
    target="_blank" href="http://www.hotwired.com/webmonkey/backend/tutorials/tutorial3.html">Jay的文章</a>，决定自己也来搞一个数据驱动的网站。可是您也许会发现您缺乏必要的资源来运行ASP服务器或昂贵的数据库系统（您也不需要这些东西）。您需要一些免费的、支持Unix的东西。 
    </p>
    <p>　　那么我建议您使用PHP和MySQL。这两样东西加在一起，对于开发数据驱动的网站这项工作而言，真是最佳组合。其实用不着我多费唇舌解释。一项由<a
    href="http://www.netcraft.com/" target="_blank">Netcraft</a>组织的非官方调查显示，应用PHP的主机数目由1998年6月的7,500台跃升至1999年3月的410,000台。不错吧？这两种软件的组合还在Webcon98大会上赢得了年度数据库产品大奖，还得了一座漂亮的奖杯。 
    </p>
    <p>　　MySQL是一个小巧灵珑的数据库服务器软件，对于小型（当然也不一定很小）应用系统是非常理想的。除了支持标准的ANSI 
    SQL语句，它还支持多种平台，而在Unix系统上该软件支持多线程运行方式，从而能获得相当好的性能。对于不使用Unix的用户，它可以在Windows 
    NT系统上以系统服务方式运行，或者在Windows 95/98系统上以普通进程方式运行。 
    </p>
    <p>　　PHP是一种服务器端解释的脚本语言。如果你接触过<a
    target="_blank" href="http://www.hotwired.com/webmonkey/98/39/index2a.html">ASP</a>的话，那么您对于在HTML页面中嵌入代码应该是比较熟悉了。PHP代码在服务器一端被解释转变成普通的HTML页面内容，送给浏览器一端。这种模式使得我们可以用它来完成相当复杂的功能。 
    </p>
    <p>　　除了免费这一点（当然，MySQL也有一些使用许可方面的限制），PHP-MySQL的组合还可以跨平台运行，这意味着您可以在Windows上开发，然后在Unix平台上运行。另外，PHP也能作为标准的CGI进程来运行，此时它是一个独立的脚本解释器，或者是Apache的一个嵌入模块。 
    </p>
    <p>　　如果您有兴趣使用其他数据库服务器的话，PHP也支持Informix、Oracle、Sybase、Solid和PostgreSQL 
    ，以及通用的ODBC。 </p>
    <p>　　PHP支持Internet开发的一些前沿技术。这些技术包括身份认证、<a
    href="http://www.hotwired.com/webmonkey/98/41/index1a.html">XML</a>、动态图象生成、<a
    href="http://www.hotwired.com/webmonkey/99/15/index3a.html" target="_blank">WDDX</a>、共享内存，以及动态PDF文档等等，不一而足。如果您还不满意的话，PHP是很容易扩展的，所以只要您有编程能力，您尽可以自己大展身手一番。 
    </p>
    <p>　　最后要说的是，两种软件都是大量程序员协同开发的，因此文档及邮件列表等支持方式很多。程序错误的修正很快，而如果您要求加入新功能的话，总会有人考虑您的要求，并且在可行性足够高的前提下加以实现。 
    </p>
    <p>　　说得够多了！我们来看看这篇教程里都有些什么内容吧。 </p>
    <blockquote>
      <p>第一课讲的是在Unix和Windows环境下安装这两个软件。如果您不太关心这个问题（也许您是在ISP的服务器上开发），您可以直接跳到<a
      href="#1.4" target="_blank">第一个示例程序</a>，从那里开始您的奇妙之旅。 
      </p>
      <p>在第二课里，我们要学习一些更加复杂的脚本功能，比如循环、处理用户输入，以及与数据库交换数据等等。 
      </p>
      <p>第三课要讲的是确认功能，以及如何使您的脚本程序清晰简练。 </p>
    </blockquote>
    <p>　　我们开始吧。<a href="#1.2">&gt;&gt;</a> </p>
    <p><a name="1.2"></a><b>二、安装MySQL</b> </p>
    <p>　　快点行动，拿到这些软件包，仔细研究一下吧。这可不是件容易的事儿。你从获取软件包、编译软件包到安装软件包的过程中都有不少的选择项。我们先从MySQL开始，因为有了它才能运行PHP。 
    </p>
    <p>　　MySQL中央网站是<a href="http://www.mysql.com/" target="_blank">http://www.mysql.com/</a>。为了方便人们下载使用（这软件还是比较大的），全球有许许多多的镜像网站。为更有效地利用因特网，请找一个就近的网站下载。 
    </p>
    <p>　　在这时候你也会有多种选择。如果你是发烧友的话，可以下载源代码；否则，网上也有各种平台上运行的预先编译过的二进制文件可以直接下载。 
    </p>
    <p>　　另外，MySQL还为Windows用户准备了一个共享软件版本，它的版本号稍低一些。如果你想要最新的版本，得花钱买一个软件许可。MySQL还提供了ODBC驱动程序，使前端应用程序可以访问MySQL数据库。有关其他一些详细信息在它的网站上都有得介绍，您可以去看看。 
    </p>
    <p>　　预先编译过的Unix版本和Windows版本都很简单，只须解包即可使用，不需要做太多说明了。因此，我们来介绍一下源代码的编译。Windows用户请记住，您需要运行<tt>mysqld</tt>程序，该程序是在<tt>mysql/bin</tt>目录下。 
    </p>
    <p>　　下载压缩过的软件包文件，放在一个目录下。使用gzip和tar来解压缩和解包。比较快的做法是使用下面这样的命令： 
    </p>
    <blockquote>
      <tt><p>gunzip &lt; mysql-xxxx.tar.gz | tar xvf - </tt></p>
    </blockquote>
    <p>　　其中，<tt>xxxx</tt>是你自己任取的一个版本标记。上面的命令将创建一个名为mysql-xxxx目录，所有的源程序文件都在这个目录下。通过执行<tt>cd 
    mysql-xxxx</tt>命令转入该目录，仔细阅读其中的多个README文件INSTALL文件。在遇到某些问题时，这些文件可能会帮上大忙呢。 
    </p>
    <p>　　MySQL带有一些便利的配置脚本程序。只须简单地键入<tt>./configure</tt>，您就可以让这些程序为您完成很多工作。如果您需要明确指定要做的事情，可以使用<tt>./configure 
    -help</tt>命令，它会给您列出你可以使用的选项。例如，如果您正在一台内存较少的机器上进行编译，那么可以使用<tt>--with-low-memory</tt>选项。我喜欢把MySQL安装在一个总目录下，而不是安装在机器上多个目录下，所以我会指定安装目录，并指定<tt>-prefix</tt>选项。 
    </p>
    <p>　　您还可以指定许多其他选项，象编译过程中要略掉哪些部分、保留哪些部分等。我们不妨假定要全部安装在服务器的<tt>/usr/local/mysql</tt>目录下。这意味着我们将键入<tt>./configure 
    -prefix=/usr/local/mysql</tt>命令。 </p>
    <p>　　配置脚本程序运行时会检查您的系统，然后生成一些文件来保证编译的顺利进行。如果该脚本程序失败，它也会显示一些有用的错误信息告诉您失败的原因。大家经常会遇到脚本程序在寻找多线程库文件时失败。此时您应当检查一下系统中是否已经安装了MIT－pthreads，如果没有，那么请您安装该软件。Linux用户则必须安装LinuxThreads。这些库文件对于MySQL的多线程运行模式（也就是运行它自己的多个版本〕是非常关键的。 
    </p>
    <p>　　如果一切都顺利进行的话，只须简单键入<tt>make</tt>命令，然后就可以去泡杯咖啡了。MySQL是相当复杂的程序，编译起来得用一段时间。如果发现错误，可以检查文档，看看只否您漏掉了某些与您的操作系统有关的准备工作。 
    </p>
    <p>　　接下来，键入<tt>make install</tt>命令，所有必需的文件都会安装到相应的目录。您差不多就可以开始使用了！如果您是MySQL新手，以前从未安装过MySQL，那您得创建默认的许可权限才能安装，因此请键入...<tt>scripts/mysql_install_db</tt>来进行相应的设置。 
    </p>
    <p>　　就这样。我们的准备工作完成了。再下面所要做的就是在机器启动时自动启动数据库，并在关机时自动关闭数据库。是的，这项工作也有一个专门的脚本程序。<tt>mysql.server 
    start</tt>命令可以启动数据库，而<tt>mysql.server stop</tt>可以关闭数据库。实在是再简单不过了。如果您想手动启动数据库（这样就不用重启机器了），你以进到安装MySQL的最上层目录（/usr/local/mysql）然后键入<tt>bin/safe_mysqld 
    &amp;</tt>命令。 </p>
    <p>　　我们已经完成了一半了。接下来是PHP部分。<a href="#1.3">&gt;&gt;</a> 
    </p>
    <p><a name="1.3"></a><b>三、安装PHP</b> </p>
    <p>　　好，看到这里时，希望您已经把MySQL安装好并运行起来了。那实在是太有意思了！下面是PHP...这个过程要容易一些，不过那些大量的选项还是使人眼花缭乱。当然，您大可不必惊慌。您随时可以重头再来，重新编译PHP，根据需要来加入或去掉某个选项。 
    </p>
    <p>　　PHP的老家在<a href="http://www.php.net/" target="_blank">http://www.php.net/</a>。这个网站信息量极大，从开发项目内容到软件错误报告都有。和MySQL一样，您可以选一个离您最近的镜像网站下载。很显然，您得到网站的Downloads部分去下载PHP。 
    </p>
    <p>　　这里您的选择不是很多。有一些预选编译好的二进制文件，但那都是实验性的。如果您不是在Windows平台上，那就下载源代码，自己编译一下吧。 
    </p>
    <p>　　但是我们还是先谈谈Windows。在使用PHP时，一般的作法是在Windows系统上开发，然后在Unix服务器上运行。您最终可能也会选择这种方式，这就需要您对两种平台下的安装都很熟悉才行。 
    </p>
    <p>　　下载Windows二进制文件后，您可以用您喜欢的任何一种ZIP解压缩程序，把软件包中的文件解压到C盘的php3目录下。软件包中的README文件对安装过程中的细节作了部分说明，但是我们在这里再对这个文件中的关键内容做个<i>读者文摘</i>：如果您不想把PHP安装在<tt>C:\php3</tt>目录，而是别的目录，那么您得编辑解压缩出来的文件中那个.inf文件。 
    </p>
    <p>　　在php3目录中，您会发现很多.dll文件。把所有文件名不是以<tt>php_</tt>开头的那些.dll文件都移到<tt>\windows\system</tt>目录下。然后，把php.ini-dist文件改一下名，改成php3.ini，并把它移到<tt>\windows</tt>目录下。如果您打开这个文件，会发现里面有很多有趣的东西可以改。现在，把含有： 
    </p>
    <blockquote>
      <tt><p>extension=php3_mysql.dll </tt></p>
    </blockquote>
    <p><br>
    　　内容的那一行的注释去掉。 </p>
    <p>　　如果您使用的是Win32平台上的Apache服务器，那么请设置Apache，使其能够识别并解释PHP文件。您需要在http.conf文件或是srm.conf文件（具体是哪一个文件取决于您使用的Apache软件的版本）中加入下一行： 
    </p>
    <pre>　　Action application/x-httpd-php3 &quot;php3/php.exe&quot;
　　AddType application/x-httpd-php3 .php3
</pre>
    <p>　　或者，如果您使用的是IIS，那么请用鼠标右键单击<tt>php_iis_reg.inf</tt>文件，并选择“安装”。您得重新启动系统，才能使刚才所做的改动生效。 
    </p>
    <p>　　OK，说完了Windows，再来说说Unix。当然，我们要从源代码开始编译。与MySQL相似，把源文件下载、解包。PHP也同样包含一个配置脚本程序，可是您不能完全使用默认设置。运行<tt>./configure 
    -help | more</tt>命令，可以逐页地观看有哪些新的、有趣的选项。您必须选择是把PHP编译成外部CGI程序还是Apache内嵌模块。如果您正在使用Apache 
    Web服务器，并且您可以对它进行重新编译的话，请选择内嵌模块方式，这种方式运行更快，使用也更简便。否则，您可以选CGI方式。另外，您还得指定将对MySQL的支持部分编译进去。 
    </p>
    <p>　　现在我们假定要以内嵌模块方式编译，并带有MySQL支持部分。如果随后您需要增加其他选项或库文件的话，可以在以后再加进去。键入下面的命令： 
    </p>
    <blockquote>
      <tt><p>./configure -with-apache=/path/to/apache/dir -with-mysql=/usr/local/mysql </tt></p>
    </blockquote>
    <p>　　如果您打算以外部CGI程序方式来编译的话，请去掉-with-apache选项。配置程序运行起来后，会创建相应的系统文件。接下来简单地执行<tt>make</tt>命令就行了。 
    </p>
    <p>　　又可以喝一杯咖啡了。如果您在此时感到坐立不安的话，不必担心。每个人在初次安装PHP的时候都有一点近不及待的感觉。再多喝点咖啡就是了。 
    </p>
    <p>　　如果您选择CGI程序方式来编译，那么现在可以就可以使用了。只须把产生的可执行文件复制到CGI程序目录下就行了。如果您使用Apache内嵌模块方式来编译，要再执行一下<tt>make 
    install</tt>命令，把有关文件复制到Apache目录下。在该目录下，您可以按照Apache的文档说明，向其中加入PHP模块，并重新编译Apache。 
    </p>
    <p>　　现在您得告诉Web服务器如何通过PHP程序来处理页面内容。如果您使用的不是Apache，那您需要查阅Web服务器软件的文档，看看如何让它处理后缀是.php3的文件。Apache 
    1.3.x版本的用户仅须在httpd.conf或srm.conf文件中加入：<tt>AddType 
    application/x-httpd-php3 .php3</tt>。如果您使用的是CGI程序方式，那您在<tt>AddType</tt>前面还得加入下面内容： 
    </p>
    <blockquote>
      <tt><p>Action application/x-httpd-php3 &quot;php3/php.exe </tt></p>
    </blockquote>
    <p>就是这样。您的运气还不那么差，现在MySQL也运行起来了，PHP也工作正常了。别忘了，在遇到问题时可以去查阅常见问题解答和软件文档。还可以试试<a
    href="http://phplib.shonline.de/support/" target="_blank">电子邮件讨论组</a>。 </p>
    <p>　　既然我们已经进行了这么多，下面我们可以实际操练了。<a
    href="#1.4">&gt;&gt;</a> </p>
    <p><a name="1.4"></a><b>四、第一个脚本</b> </p>
    <p>　　如果我告诉您真正难过的一关已经过了，您一定会很高兴。软件的安装过程总是无法预料，因为系统跟系统之间可以说是千差万别。不过您运气不错，数据库运行起来，PHP也编译安装完毕，Web服务器也可以正确处理扩展名为.php3的文件了。 
    </p>
    <p>　　我们下面就开始正式上路，要写第一个脚本程序了。创建一个文本文件，在其中加入下面的内容： 
    </p>
    <div align="center"><center><table border="0" width="50%" cellspacing="0" cellpadding="0"
    bgcolor="#FFFFD2">
      <tr>
        <td width="10%" class="p4">　</td>
        <td width="90%" class="p4">&lt;html&gt;<br>
        &lt;body&gt;<br>
        <br>
        &lt;?php<br>
        $myvar = &quot;Hello World&quot;;<br>
        echo $myvar;<br>
        ?&gt;<br>
        <br>
        &lt;/body&gt;<br>
        &lt;/html&gt;</td>
      </tr>
    </table>
    </center></div><p>　　现在，访问相应的URL，例如，http://myserver/test.php3。您应该可以看到页面中包含“Hello 
    World”的文字。如果您看到的是错误信息，查一下PHP文档，看看软件设置是否正确无误。 
    </p>
    <p>　　就是这样了！这是您的第一个PHP程序。如果您查看一下这个页面的HTML源代码，您会发现里面只有Hello 
    World 这样的文字。 </p>
    <p>　　那是因为PHP引擎过滤了文件内容，对其中的代码作了处理，转换成了标准的HTML。 
    </p>
    <p>　　在上面的程序中您最先注意到的可能是定界符，也就是以<tt>&lt;?php</tt>开始的那几行。这个标记说明后面是PHP代码，而<tt>?&gt;</tt>表示代码结束。PHP的强大之处在于，这些代码可以以多种不同方式放在任意位置 
    － 
    我是说任意位置。后面我们会看到一些很有趣的例子，现在我们还是从最简单的开始。如果您愿意，也可以设置PHP，让它使用短标记，&lt;?和?&gt;，但这与XML会发生冲突，所以要小心使用。如果您是从ASP转向PHP，您甚至可以让PHP使用<tt>&lt;%</tt>和<tt>%&gt;</tt>作为定界符。 
    </p>
    <p>　　您还会注意到每行后面的分号。这些分号称为分隔符，用于分隔不同的指令。您可以把所有的PHP代码写在一行里，用分隔符把命令分开。但是那样看起来很乱，所以我们在每个分号后面都另起一行。记住，每行最后都要以分号结束。 
    </p>
    <p>　　最后，您会注意到<tt>myvar</tt>这个字以＄符号开头。这个符号告诉PHP，这是一个变量。我们把“Hello 
    World”赋给变量$myvar。一个变量可以是数字，也可以是数组。不管怎样，所有的变量都是以＄符开头。 
    </p>
    <p>　　PHP真正强大之处来源于它的函数。函数，基本上是处理指令序列。如果您把所有的选件都编译进PHP，总共会有超过700个函数。这些函数可以让您做很多事情。 
    </p>
    <p>　　现在我们再加进一些MySQL的内容进去。<a href="#1.5">&gt;&gt;</a> </p>
    <p><a name="1.5"></a><b>五、装载数据库</b> </p>
    <p>　　现在，我们要加入MySQL的内容了。要想知道PHP中包含哪些选项，或服务器方面的一些情况，一种简便的方法是使用函数phpinfo()。创建一个象下面这样的程序： 
    </p>
    <div align="center"><center><table border="0" width="50%" bgcolor="#FFFFD2"
    cellspacing="0" cellpadding="0" class="p4">
      <tr>
        <td width="10%">　</td>
        <td width="90%">&lt;html&gt;<br>
        &lt;body&gt;<br>
        <br>
        &lt;?php<br>
        phpinfo();<br>
        ?&gt;<br>
        <br>
        &lt;/body&gt;<br>
        &lt;/html&gt;</td>
      </tr>
    </table>
    </center></div><p>　　保存这个程序，在浏览器中访问这个文件。您会看到网页中包含了一些有趣的、有用的信息，象<a
    href="http://it.sohu.com/webmonkey/99/21/stuff2a/phpinfo.html">这样</a>。这些信息是有关服务器、Web服务器内部环境变量、PHP中包含的选项，等等。在第一段Extensions中，找到以MySQL开头的一行。如果没有找到，那说明MySQL支持选项并没有编译进PHP。您可以再检查一下安装步骤，查阅一下PHP文档，看您是否漏掉了什么。 
    </p>
    <p>　　如果找到了MySQL那一行，那您可以继续了。 </p>
    <p>　　从MySQL数据库中读取数据之前，我们得先往数据库里放一些数据。在现在这一阶段，还没有一个简便的方法来做这件事情。大多数的PHP程序都带有一个数据文件，该文件包含一些数据来创建并激活MySQL数据库。这个过程不在本教程范围之内，所以让我来替您做这件事情吧。 
    </p>
    <p>　　MySQL使用它自己的用户权限表。在安装时，会创建一个默认的用户（root），该用户是没有口令的。数据库管理员可以根据需要来增加用户并赋予用户各种不同的权限，但这项工作完全可以另写一本书了，所以我们只使用root用户。如果您自己管理服务器和数据库，为root用户分配一个口令是很重要的。 
    </p>
    <p>　　总之，我们还是接着说数据库吧。对Win32用户来说，很对不起，不过您要在DOS下做些工作。您不得不使用DOS窗口，或者在“执行”窗口中键入所有命令。别忘了，输入命令时要带上MySQL/bin的目录名。Unix用户可以在MySQL的bin目录下输入命令，但命令必须以./开头，才能让程序运行起来。 
    </p>
    <p>　　我们要做的第一件事情是实际创建出数据库。在命令行下，键入下列命令： 
    </p>
    <blockquote>
      <p>mysqladmin -u root create mydb </p>
    </blockquote>
    <p>这样就创建了一个名为“mydb”的数据库。-u选项告诉MySQL我们使用的是root用户。 
    </p>
    <p>　　下一步，我们要加入一些数据，这里我们用的示例数据是大家都喜欢用的员工数据库。我们将会用到我前面提到过的数据文件。如果您想在这方面多了解一些，可以查阅MySQL所带的手册或访问 
    <a href="http://www.turbolift.com/mysql/">http://www.turbolift.com/mysql/</a>网站。 </p>
    <p>　　把下面的文字复制到一个文件中，把该文件存在MySQL的bin目录下（我假定文件名是mydb.dump）。 
    </p>
    <div align="center"><center><table border="0" width="70%" bgcolor="#FFFFD2"
    cellspacing="0" cellpadding="0" class="p4">
      <tr>
        <td width="5%">　</td>
        <td width="95%">CREATE TABLE employees (&nbsp; id tinyint(4) DEFAULT '0' NOT NULL <br>
        AUTO_INCREMENT,&nbsp; first varchar(20),&nbsp; last varchar(20),&nbsp; <br>
        address varchar(255),&nbsp; position varchar(50),&nbsp; PRIMARY KEY (id),&nbsp; <br>
        UNIQUE id (id));INSERT INTO employees VALUES (1,'Bob','Smith',<br>
        '128 Here St, Cityname','Marketing Manager');<br>
        <br>
        INSERT INTO employees VALUES (2,'John','Roberts','45 There St , <br>
        Townville','Telephonist');<br>
        <br>
        INSERT INTO employees VALUES (3,'Brad','Johnson','1/34 Nowhere Blvd, <br>
        Snowston','Doorman');<br>
        </td>
      </tr>
    </table>
    </center></div><p>　　如果文字是折行的，请确保每一个INSERT语句都是另起一行的。现在，我们要把数据加入到mydb数据库中了。在命令行下，键入下面的命令： 
    </p>
    <pre>
　　　　mysql -u root mydb &lt; mydb.dump

</pre>
    <p>　　此时您应该不会遇到什么错误。如果真的出错了，请仔细检查一下是否因上面的文字折行而引起错误。<a
    href="#1.6">&gt;&gt;</a> </p>
    <p>　</p>
    <p><a name="1.6"></a><b>六、测试</b> </p>
    <p>　　OK，现在我们已经把数据导入到数据库中了。现在我们来处理这些数据。把下面的文字存入一个文件中，把该文件存在Web服务器的文档目录下，后缀名为.php3。 
    </p>
    <div align="center"><center><table border="0" width="70%" bgcolor="#FFFFD2"
    cellspacing="0" cellpadding="0" class="p4">
      <tr>
        <td width="5%">　</td>
        <td width="95%">&lt;html&gt;<br>
        <br>
        &lt;body&gt;<br>
        <br>
        &lt;?php<br>
        <br>
        $db = mysql_connect(&quot;localhost&quot;, &quot;root&quot;);<br>
        <br>
        mysql_select_db(&quot;mydb&quot;,$db);<br>
        <br>
        $result = mysql_query(&quot;SELECT * FROM employees&quot;,$db);<br>
        <br>
        printf(&quot;First Name: %s&lt;br&gt;\n&quot;, mysql_result($result,0,&quot;first&quot;));<br>
        <br>
        printf(&quot;Last Name: %s&lt;br&gt;\n&quot;, mysql_result($result,0,&quot;last&quot;));<br>
        <br>
        printf(&quot;Address: %s&lt;br&gt;\n&quot;, mysql_result($result,0,&quot;address&quot;));<br>
        <br>
        printf(&quot;Position: %s&lt;br&gt;\n&quot;, 
        mysql_result($result,0,&quot;position&quot;));<br>
        <br>
        ?&gt;<br>
        <br>
        &lt;/body&gt;<br>
        <br>
        &lt;/html&gt;<br>
        </td>
      </tr>
    </table>
    </center></div><p>　　我来解释一下上面的代码。<tt>mysql_connect()</tt>函数负责以指定的用户名（本例中用户名是root）连接到指定机器（在本例中机器是本机localhost）上的MySQL数据库。如果您想指定用户口令，您也可以把它送给这个函数。连接的结果保存在变量$db中。 
    </p>
    <p>　　随后，<tt>mysql_select_db()</tt>函数告诉PHP，我们要读取的数据库是mydb。我们可以在程序中同时连接到多台机器上的多个数据库，但目前我们还是限于连接一个数据库。 
    </p>
    <p>　　接下来，<tt>mysql_query()</tt>函数完成最复杂的部分。利用刚才得到的连接结果标识，该函数把一行SQL语句送给MySQL服务器去处理。返回的结果保存在变量<tt>$result</tt>中。 
    </p>
    <p>　　最后，<tt>mysql_result()</tt>函数显示SQL查询命令所得到的各个字段的值。利用变量$result，我们就可以找到第一条记录，记录号是0，并将其中各字段的值显示出来。 
    </p>
    <p>　　如果您以前没用过Perl或C语言，那么<tt>printf</tt>函数的语法格式会显得很奇怪。在上面的每一行程序中，<tt>%s</tt>代表表达式第二部分中的那个变量（例如，<tt>mysql_result($result,0,&quot;position&quot;)</tt>）应该以字符串的形式显示出来。想更深入了解<tt>printf</tt>，请参阅<a
    href="http://www.php3.net/manual/function.printf.php3" target="_blank">PHP文档</a>。 </p>
    <p>　　这一课我们就讲到这里了。我们已经成功地编译、安装和设置了MySQL和PHP，并且运行了一个简单的程序来读取数据库中的信息。在 
    第二课里，我们会做一些更复杂的工作，来显示多行记录的数据，甚至与数据库互相交换数据。 
    </p>
    <p>继续努力吧！ </p>
    </td>
  </tr>
</table>
<SCRIPT src="/counter.js" type=text/javascript></SCRIPT>
</BODY>
</HTML>
